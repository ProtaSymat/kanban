{% extends 'base.html.twig' %}

{% block title %}Voir Board{% endblock %}

{% block body %}
    <h1>Voir Board</h1>

    <p><strong>Titre:</strong> {{ board.title }}</p>
    <p><strong>Status:</strong> {{ board.status }}</p>

    <h2>Ajouter un Step/Liste</h2>
    <a href="{{ path('app_step_new', {'boardId': board.id}) }}" class="btn btn-primary">Ajouter un Step/Liste</a>

    <h2>Steps/Listes</h2>
    {% if board.steps is not empty %}
        {% for step in board.steps %}
            <h3>{{ step.title }}</h3>
            <p>Position: {{ step.position }} - Statut: {{ step.status }}</p>
            <ul>
                {% if step.tasks is not empty %}
                    {% for task in step.tasks %}
                        <li>{{ task.title }} - {{ task.status }}</li>
                    {% endfor %}
                {% else %}
                    <p>Aucune tâche trouvée pour cette step.</p>
                {% endif %}
            </ul>
        {% endfor %}
    {% else %}
        <p>Aucune Step/Liste trouvée pour ce board.</p>
    {% endif %}
{% endblock %}
